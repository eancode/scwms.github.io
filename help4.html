<!Doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<title>配置业务组件-WORKFLOW-沃克福勒企业软件研发平台-致力于快速开发</title>
	<meta content="NOODP" name="ROBOTS" />
	<meta name="keywords" content="列表组件, 业务组件,帮助,文档,help,Document,白皮书,说明书,使用指南,开发指南">
	<meta name="description" content="配置业务组件 帮助系统 企业软件快速开发平台 总体介绍部分、全篇介绍各类业务组件，如：列表组件、表单组件、数据导入组件、数据导出组件、打印组件、流程相关组件、帮助系统等等组件...">

	<!-- 新 Bootstrap4 核心 CSS 文件 -->
	<link rel="stylesheet" href="static/bootstrap4/css/bootstrap.css">
	<link rel="stylesheet" href="static/css/public.css">
	<link rel="stylesheet" href="static/css/style.css">
	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="static/js/jquery.min.js"></script>
	 
	<!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js -->
	<script src="static/js/popper.min.js"></script>
	 
	<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
	<script src="static/bootstrap4/js/bootstrap.min.js"></script>

</head>
<body>		
	<header id="header" class="">
		<div class="container-fluid p-r">
			<a class="header-logo" href="index.html">企业软件研发平台</a>			
			<div class="float-right top">	
				<nav class="navbar navbar-expand-md navbar-dark  d-none d-md-block" id="navBig">
				    <ul class="navbar-nav float-right">
				      <li class="nav-item">
				      	<a class="nav-link disabled" href="help.html">文档</a>
				      </li>
				      <li class="nav-item">
				      	<a class="nav-link active" href="faq.html">FAQ</a>
				      </li>
				      <li class="nav-item">
				      	<a class="nav-link active" href="download.html">下载</a> 
				      </li>
				      <li class="nav-item">
				        <a class="nav-link " href="workf/download.html"> <button type="button" class="btn btn-outline-light btn-xs">进销存</button> </a>
				      </li>    
				    </ul>
				    <div class="clearfix"></div>
				</nav>
				<nav class="navbar navbar-expand-md navbar-dark  d-block d-md-none" id="navSmall">
					  <a class="navbar-brand" href="#"></a>
					  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
					    <span class="navbar-toggler-icon"></span>
					  </button>				  
					  <div class="collapse navbar-collapse" id="collapsibleNavbar">
					    <ul class="navbar-nav bg-info">
					      <li class="nav-item">
					        <a class="nav-link active" href="index.html">首页</a>
					      </li>
					      <li class="nav-item">
					      	<a class="nav-link disabled" href="help.html">文档</a>
					      </li> <li class="nav-item">
				      	<a class="nav-link active" href="faq.html">FAQ</a>
				      </li>
					      <li class="nav-item">
					      	<a class="nav-link active" href="download.html">下载</a> 
					      </li>
					      <li class="nav-item">
					        <a class="nav-link " href="workf/download.html"> <button type="button" class="btn btn-outline-light btn-xs">进销存</button> </a>
					      </li>    
					    </ul>
				    </div>
				</nav>
			</div>
		</div>
	</header><!-- /header -->
		<div id="slider">
		<div class="slider_mask">
			<h2 class="mask-title d-none d-md-block">《WORKFLOW-企业软件快速开发平台》<br>调试系统使用说明书</h2>
			<h4 class="mask-title d-block d-md-none">《WORKFLOW-企业软件快速开发平台》<br>调试系统使用说明书</h4>
			<p></p>
			<div class="mask-btns">
				V 1.1
			</div>			
		</div>		
	</div>
	<div class="list01-title bg-info">
		
		<div class="btn-group">
		  <a class="btn btn-warning text-muted" href="help.html"><i class="glyphicon glyphicon-home"></i></a>
		</div>
		
		<h2 class="text-center d-none d-md-block">第四章、配置业务组件</h2>
		<h3 class="text-center d-block d-md-none">第四章、配置业务组件</h3>
		
	</div>
	<!--内容-->
	<div class="container-fluid help p-r">
		<div class="row">
			<div class="col col-12 col-md-2">
				<div class="" id="help-nav">
					<ul class="list-group">
						<li class="list-group-item"><a >1、列表组件</a></li>
						<li class="list-group-item"><a href="help42.html">2、表单组件</a></li>
						<li class="list-group-item"><a href="help43.html">3、数据导入️</a></li>
						<li class="list-group-item"><a href="help44.html">4、打印模版️</a></li>
						<li class="list-group-item"><a href="help45.html">5、帮助组件️</a></li>
						<li class="list-group-item"><a href="help46.html">6、流程组件️</a></li>
						<li class="list-group-item"><a href="help47.html">7、流程节点️</a></li>
						<li class="list-group-item"><a href="help48.html">8、路由动作️</a></li>
						<li class="list-group-item"><a href="help49.html">9、触发器️</a></li>
					</ul>
				</div>
			</div>
			<div class="col col-12 col-md-10">
				<div class="help-con" id="c1">
					<div class="card">
						<div class="card-header" >1、列表组件</div>
					    <div class="card-body">
					    	<p>本系统全部的列表页面，包括门户中的列表数据，均为列表组件配置并解析生成网页，网页的通用URL入口为：/list/page/{功能编码}?datasrc=dd&templid=100（有表头）和/list/noheader/{功能编码}?datasrc=dd&templid=100（无表头），两个接口功能一致，其中功能编码参数需要参考“系统管理”模块的“功能权限管理”列表页中的“编码”列，也可以参考软件帮助面板上方的“模块”编号；参数datasrc=dd表示列表页数据是通过windowdb_conf.{功能编码}_dd表中的templid=100的SQL语句获取的；如果没有这两个参数，系统会默认从windowdb_conf.{功能编码}_ld视图中获取数据。</p>
					    	
					    	<p>该接口参数如下表所示：</p>
					    	<table class="table">
						    	<tr>
						    		<td rowspan="2"><b>序<br><br>号</b></td><td colspan="3" class="text-center"><b>列表组件接口地址：/list/page/{功能编码}，/list/noheader/{功能编码}</b></td>
						    	</tr><tr>
						    		<td><b>参数名</b></td><td><nobr><b>参数值</b></nobr></td><td><b>说明</b></td>
						    	</tr><tr>
					    			<td>1</td><td>datasrc</td><td>dd</td><td>该列表数据来源于 windowdb_conf.{功能编码}_dd 的配置库对象中记录的sql字符串，如果没有该参数则该列表数据来源于windowdb_conf.{功能编码}_ld的视图</td>
								</tr><tr>
									<td>2</td><td>templid</td><td>100</td><td>该列表数据来源于windowdb_conf.{功能编码}_dd表templid=100的记录值（sql）执行后的结果集（datasrc必须等于dd的前提下）</td>
								</tr><tr>
									<td>3</td><td>page</td><td>1</td><td>当前页码</td>
								</tr><tr>
									<td>4</td><td>rows</td><td>20</td><td>每页显示行数</td>
								</tr>
					    	</table>
					    	<p class="text-center">表 22</p>
					    	
					    	<p>该接口涉及配置表如下所示：</p>
					    	<table class="table">
						    	<tr>
						    		<td rowspan="2"><b>序<br><br>号</b></td><td colspan="3" class="text-center"><b>列表组件配置库表清单</b></td>
						    	</tr><tr>
						    		<td><b>对象名</b></td><td><b>类型</b></td><td><b>说明</b></td>
						    	</tr><tr>
					    			<td>1</td><td>{功能编码}_dd</td><td>表</td><td>表单项配置数据，以及列表页面查询数据。</td>
								</tr><tr>
									<td>2</td><td>{功能编码}_ld</td><td>视图</td><td>明细数据视图（视图查询为明细页面以及打印页面提供数据）。</td>
								</tr><tr>
									<td>3</td><td>{功能编码}_ld_th</td><td>表</td><td>列表表头配置</td>
								</tr><tr>
					    	</table>
					    	<p class="text-center">表 23</p>
					    	<br>
					    	<h5>1.1表头定义-定义导出数据列</h5>
					    	<br>
					    	<p>数据库配置表快速定位：windowdb_conf.{模块编号}_ld_th</p>
					    	<p>描述：列表的表头定义配置表默认只有三行数据，必须带有一个id列。默认还会带有checkbox的描述列，用于描述列表的checkbox，其它列由设计人员自行定义，id=2 的数据为导出列定义。</p>
					    	<p>导出按钮代码：</p>
					    	<small>
					    	&lt;a href=&quot;javascript:saveSearch();&quot; title=&quot;将查询的单页或者多页数据导出为xls格式文件&quot;&gt;&lt;/a&gt;<br/>
							&lt;a href=&quot;javascript:saveSelect();&quot; title=&quot;将勾选的数据导出为xls格式文件&quot;&gt;&lt;/a&gt;<br/><br/>
							</small>
					    	<p>saveSearch方法导出的是被检索出的结果，包含第二页第三页...直到最后一页，而saveSelect方法必须要求选中数据行，才会导出数据。</p>
					    	<p>导出列规则：id = 2 ，且值是”1,”为前缀的数据列，默认会被导出到excel文件中。其它数据不会被导入，但是会被解析到html网页中作为网页的一部分。</p>
					    	<br>
					    	<h5>1.2.表头定义-定义查询条件</h5>
							<br>
							<p>数据库配置表快速定位：windowdb_conf.{模块编号}_ld_th，windowdb_conf.{模块编号}_dd，windowdb_conf.{模块编号}_ld</p>
					    	<p>描述：列表的表头定义配置表默认只有三行数据，必须带有一个id列。默认还会带有checkbox的描述列，用于描述列表的checkbox，其它列由设计人员自行定义，id=3 的数据为检索列定义。该列中的值如果包含input标签，则第一个input标签会自动加上字段名作为input的name，点击列表查询按钮，则会将该值传递后台检索处理。而该input的样式名即class=” .like.”表示模糊匹配（like ‘%%’），class=” .eq.”表示精确匹配（=），class=” .gt.”表示大于（>），class=” .lt.”表示小于（<），class=” .in.”表示包含（in(...)），class=” .between.”则表示SQL语句中的between and 第一个input的name后半部分等于.between.min.第二个input的name后半部分等于.between.max.，具体使用的方法请参考数据库中的示例。若该数据列表不需要额外的查询组件作为辅助，需要在第一列的第三行申明：“<!-- no search button -->”则列表页面上方不会解析出一个默认的查询按钮。</p>
							<br>
					    	<h5>1.3.表头定义-定义分页</h5>
							<br>
							<p>代码：<small>&lt;script&gt;$('#dg').datagrid({pageList: [10, 20, 30]});&lt;/script&gt;	</small></p>
					    	<p>参数：pageList: 提供分页的列表行数</p>
					    	<p>代码位置：windowdb_conf.{模块编号}_ld_th</p>
					    	<p>描述：列表默认每页20行数据，该方法定义除了默认行数外，支持每页数据的可选行数数值。</p>
					    	<br>
					    	<h5>1.4.表头定义-定义添加按钮</h5>
					    	<br>
					    	<p>代码：<small>&lt;a href="javascript:add({templid});" title="根据指定的格式弹出添加页面"&gt;&lt;/a&gt;</small></p>
					    	<p>参数：templid:模版id，对应的表单模版。</p>
					    	<p>代码位置：windowdb_conf.{模块编号}_ld_th</p>
					    	<p>描述：js方法add,调用弹出窗口，该窗口根据templid，解析windowdb_conf.{模块编号}_dd表中templid字段为add方法中参数传递的数值。</p>
							<br>
							<h5>1.5.表头定义-定义编辑按钮</h5>
							<br>
							<p>代码：<small>&lt;button onclick=’openurl(“窗口标题”,”${basePath}/datail/showAdd/page/{模块编号}/{templid}?id={数据主键id}”);’&gt;修改&lt;/button&gt;</small></p>
					    	<p>参数：templid:模版id，对应的表单模版。</p>
					    	<p>代码位置：windowdb_conf.{模块编号}_dd，windowdb_conf.{模块编号}_ld</p>
					    	<p>描述：js方法openurl,调用弹出窗口，该窗口根据templid，解析windowdb_conf.{模块编号}_dd表中templid字段对应的数值。</p>
					    	<br>
					    	<h5>1.6.表头定义-定义帮助按钮以及帮助内容</h5>
					    	<br>
					    	<p>代码：<small>&lt;a href="javascript:help({id});" title="弹出右侧帮助侧边栏内容"&gt;&lt;/a&gt;</small></p>
					    	<p>参数：id，windowdb_conf.{模块编号}_hp表中的id。</p>
					    	<p>代码位置：windowdb_conf.{模块编号}_ld_th</p>
					    	<p>描述：js方法help,调用对应模块的帮助窗口，该窗口根据id，解析windowdb_conf.{模块编号}_hp表中id字段为help方法中参数传递的数值的内容。</p>
					    	<br>
					    	<h5>1.7.列表数据定义-定义SQL语句查询列表数据</h5>
					    	<br>
					    	<p>位置：windowdb_conf.{模块编号}_dd</p>
					    	<p>描述：windowdb_conf.{模块编号}_dd表中templid对应值是列表接口url中传递过来的值，例如：url中传递templid=100，则windowdb_conf.{模块编号}_dd表中需要建立一行templid=100的记录，其value字段保存一段select查询语句，查询语句查询出的字段，需要和windowdb_conf.{模块编号}_ld_th表中的字段对应。</p>
					    	<br>
					    	<h5>1.8.列表数据定义-绑定数据库视图（view）方式查询列表数据</h5>
					    	<br>
					    	<p>位置：windowdb_conf.{模块编号}_ld</p>
					    	<p>描述：windowdb_conf.{模块编号}_ld视图。列表接口未指明datasrc为dd的情况下默认显示的数据，以及详细显示页面和详细打印的数据。</p>
					    	<br>
					    	<h5>1.9.列表数据定义-定义数据伪删除（可见、不可见）</h5>
					    	<p>位置：windowdb_conf.{模块编号}_dd，windowdb_conf.{模块编号}_ld</p>
					    	<p>代码：<small>&lt;button onclick="visible({业务表名},{id})"&gt;生效&lt;/button&gt;</small></p>
					    	<p><small>&lt;button onclick="unvisible({业务表名},{id})"&gt;作废&lt;/button&gt;</small></p>
					    	<p>描述：设置业务表中visible字段的开和关，从而控制业务数据是否可见（是否生效）从而达到标记业务数据状态的目的。</p>
					    	<br>
					    	<h5>1.10.列表数据定义-数据行中定义呼出流程面板按钮</h5>
					    	<br>
					    	<p>位置：windowdb_conf.{模块编号}_dd，windowdb_conf.{模块编号}_ld</p>
					    	<p>代码：<small>&lt;button onclick="showTask({模块编号},{taskid})"&gt;提交&lt;/button&gt;</small></p>
					    	<p>描述：根据模块编号和流程任务ID呼出流程面板。处理流程待办任务。</p>
					    	<p>taskid：windowdb.wf_ins_task.id, 对应业务库中的流程实例表的主键ID</p>
					    	<br>
					    	<h5>1.11.列表数据定义-列表数据打印模版定义</h5>
					    	<br>
					    	<p>位置：windowdb_conf.{模块编号}_dd_pt，windowdb_conf.{模块编号}_ld</p>
					    	<p>代码：<small>&lt;a href="javascript:printSearch({printid});" title="将查询的单页或者多页数据根据特定格式打印出来"&gt;&lt;/a&gt;</small></p>
					    	<p><small>&lt;a href="javascript:printSelect({printid});" title="将勾选的数据根据特定格式打印出来"&gt;&lt;/a&gt;</small></p>
					    	<p>描述：根据打印模版编号弹出数据面板。打印业务数据。</p>
					    	<p>printid：windowdb_conf.{模块编号}_dd_pt.id, 对应打印模版表的主键ID。</p>
					    	
					    </div>
					</div><!--/card--> 
				</div><!--/help-con-->
			</div>
		</div>
		
		
		
	</div>
	<!--底部-->
	<div class="container-fluid list03">
		<p class="text-center"><a href="download.html" class="btn btn-outline-light"><span class="glyphicon glyphicon-download mr-10"></span>免费下载试用</a></p>
	</div>
	<footer>
		<div class="footer"> 
			<div class="copyright">
				©2020-2025 workflow.net.cn
			</div>
			<div class="text-light contact">
				<span class="glyphicon" title="QQ号">QQ：6996899 </span> | <span title="微信号" class="glyphicon glyphicon-phone">微信：18032603709</span>
			</div>
		</div>
	</footer>
	<script src="static/js/public.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>
