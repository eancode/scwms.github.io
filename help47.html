<!Doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<title>流程节点组件-WORKFLOW-沃克福勒企业软件研发平台-致力于快速开发</title>
	<meta content="NOODP" name="ROBOTS" />
	<meta name="keywords" content="流程节点组件, 流程节点定义, 业务组件,帮助,文档,help,Document,白皮书,说明书,使用指南,开发指南">
	<meta name="description" content="流程节点组件 帮助系统 企业软件快速开发平台 总体介绍部分、全篇介绍各类业务组件，如：列表组件、表单组件、数据导入组件、数据导出组件、打印组件、流程相关组件、帮助系统等等组件...">

	<!-- 新 Bootstrap4 核心 CSS 文件 -->
	<link rel="stylesheet" href="static/bootstrap4/css/bootstrap.css">
	<link rel="stylesheet" href="static/css/public.css">
	<link rel="stylesheet" href="static/css/style.css">
	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="static/js/jquery.min.js"></script>
	 
	<!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js -->
	<script src="static/js/popper.min.js"></script>
	 
	<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
	<script src="static/bootstrap4/js/bootstrap.min.js"></script>

</head>
<body>		
	<header id="header" class="">
		<div class="container-fluid p-r">
			<a class="header-logo" href="index.html">企业软件研发平台</a>			
			<div class="float-right top">	
				<nav class="navbar navbar-expand-md navbar-dark  d-none d-md-block" id="navBig">
				    <ul class="navbar-nav float-right">
				      <li class="nav-item">
				      	<a class="nav-link disabled" href="help.html">文档</a>
				      </li>
				      <li class="nav-item">
				      	<a class="nav-link active" href="faq.html">FAQ</a>
				      </li>
				      <li class="nav-item">
				      	<a class="nav-link active" href="download.html">下载</a> 
				      </li>
				      <li class="nav-item">
				        <a class="nav-link " href="workf/download.html"> <button type="button" class="btn btn-outline-light btn-xs">进销存</button> </a>
				      </li>    
				    </ul>
				    <div class="clearfix"></div>
				</nav>
				<nav class="navbar navbar-expand-md navbar-dark  d-block d-md-none" id="navSmall">
					  <a class="navbar-brand" href="#"></a>
					  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
					    <span class="navbar-toggler-icon"></span>
					  </button>				  
					  <div class="collapse navbar-collapse" id="collapsibleNavbar">
					    <ul class="navbar-nav bg-info">
					      <li class="nav-item">
					        <a class="nav-link active" href="index.html">首页</a>
					      </li>
					      <li class="nav-item">
					      	<a class="nav-link disabled" href="help.html">文档</a>
					      </li> <li class="nav-item">
				      	<a class="nav-link active" href="faq.html">FAQ</a>
				      </li>
					      <li class="nav-item">
					      	<a class="nav-link active" href="download.html">下载</a> 
					      </li>
					      <li class="nav-item">
					        <a class="nav-link " href="workf/download.html"> <button type="button" class="btn btn-outline-light btn-xs">进销存</button> </a>
					      </li>    
					    </ul>
				    </div>
				</nav>
			</div>
		</div>
	</header><!-- /header -->
		<div id="slider">
		<div class="slider_mask">
			<h2 class="mask-title d-none d-md-block">WORKFLOW-企业软件快速开发平台<br>调试系统使用说明书</h2>
			<h4 class="mask-title d-block d-md-none">沃克福勒企业软件研发平台<br>使用白皮书</h4>
			<p></p>
			<div class="mask-btns">
				V 1.1
			</div>			
		</div>		
	</div>
	<div class="list01-title bg-info">
		
		<div class="btn-group">
		  <a class="btn btn-warning text-muted" href="help.html"><i class="glyphicon glyphicon-home"></i></a>
		  <a class="btn btn-warning text-muted" href="help4.html">第四章</a>
		</div>
		
		<h1 class="text-center d-none d-md-block">WORKFLOW-沃克福勒企业软件研发平台-工作流节点表以及各节点对应的业务单据配置说明</h1>
		<h2 class="text-center d-block d-md-none">流程节点组件</h2>
		
	</div>
	<!--内容-->
	<div class="container-fluid help p-r">
		<div class="row">
			<div class="col col-12 col-md-2">
				<div class="" id="help-nav">
					<ul class="list-group">
						<li class="list-group-item"><a href="#c1">节点表</a></li> 
						<li class="list-group-item"><a href="#c2">节点单据</a></li> 
					</ul>
				</div>
			</div>
			<div class="col col-12 col-md-10">
				<div class="help-con" >
					


					<div class="card" id="c1">
						<div class="card-header" >工作流节点定义业务表配置</div>
					    <div class="card-body">
					    	<p>流程的节点分成四中模式：1 指派模式；2，单人竞争模式；3，全员模式；4，表决模式</p>
					    	<p>模式介绍：</p>
					    	<p>当节点类型为【指派模式】时，上个节点提交至此，操作人需要指派某一受理人受理，流程操作面板 界面会提示一下拉列表，列表中列出全部的受理候选人，过滤器（filter_op_formula）过滤掉的除外， 由操作人选取一人后提交流程。 </p>
					    	<p>当节点类型为【单人竞争模式】时，上个节点提交至此，无需选择候选人，多名候选人中如有一人受 序号 模块帮助表：windowdb_conf.{模块编号}_hp 字段说明 字段名 说明 1 id 主键，helpid，（help({helpid})） 2 content 打印模版正文 序号 工作流定义表：windowdb.wf_def 主要业务字段说明 字段名 说明 1 id 主键 2 title 流程定义标题，显示在“软件门户”的“新业务”版块。 3 code 唯一标识，用于各模块 SQL 语句中对流程定义的标识。 4 fun_code function 编码，对应的功能权限编码，该流程对应了系统的哪一具体功能模块。 关联字段 windowdb.branch_auth.code 5 table_name 流程关联的业务表表名，该表必须有 id，wf_creator,wf_status 三个固定和流程相 关的字段。 6 column_name 流程关联的业务表字段名，必须为主键 id 7 icon 流程定义图标，显示在“软件门户”的“新业务”版块。 8 visible 是否可见（有效），1，有效；0，无效； ... 其它辅助字段请参考数据库中 windowdb.wf_def 表。
WORKFLOW-沃客福勒 企业软件研发平台 v 1.1 沃客福勒-致力于快速开发-企业软件研发平台 第 58页 理，其他人则不能受理该任务。 </p>
					    	<p>当节点类型为【全员模式】时，上个节点提交至此，无需选择候选人，多名候选人必须全员受理，该 流程节点的任务才可以继续提交至下一节点。 </p>
					    	<p>当节点类型为【表决模式】时，上个节点提交至此，无需选择候选人，多名候选人必须半数以上人员 完成受理，该流程节点的任务才可以继续提交至下一节点。 </p>
					    	<p></p>
					    	<p>两种路由类型：0，自动路由；1，手动路由</p>
					    	<p>路由介绍：</p>
					    	<p>当节点路由类型为【自动路由】时，节点的下一受理节点是根据提前预定的路由规则来决定。</p>
					    	<p>例如： 报销金额小于 1000 元，跳转到部门经理审核，而大于 1000 元则自动提交至总经理审核。 </p>
					    	<p>当节点路由类型为【手动路由】时，节点的下一受理节点是根据受理用户的手动选择来决定的。</p>
					    	<p>在流 程面板界面上将会出现两个审批路由选择：1，提交至经理审批，2，提交至总经理审批；</p>
					    	<p>当前受理人只能 根据实际的业务表单中的数据和规则，任选其一。 </p>
					    	<p>工作流节点定义表 windowdb.wf_def_node 主要业务字段如下表所示：</p>
					    	
					    	<table class="table">
						    	<tr>
						    		<td rowspan="2"><b>序<br><br>号</b></td><td colspan="2" class="text-center"><b>工作流节点定义表：windowdb.wf_def_node 主要业务字段说明</b></td>
						    	</tr><tr>
						    		<td><b>字段名</b></td><td><b>说明</b></td>
						    	</tr><tr>
					    			<td>1</td><td>id</td><td>主键</td>
								</tr><tr>
									<td>2</td><td>title</td><td>流程节点定义标题。</td>
								</tr><tr>
									<td>3</td><td>func_node</td><td>是否为功能型节点，1，功能型节点；该类型节点的实例数据不显示在统一待办列表 0，普通流程节点，流程实例对应的待办任务会显示在统一待办列表。</td>
								</tr><tr>
									<td>4</td><td>filter_op_forrmula</td><td>待受理人过滤器，一段 SQL 片段，会追加到跳转到该流程节点时选择受理候选人列表 的 SQL 语句最后方，用于过滤不符合条件的受理人。例如常见的应用场景：过滤掉其 他部门的部门经理或领导。只列出和当前登录人同部分的候选人。</td>
								</tr><tr>
									<td>5</td><td>node_index</td><td>该节点的索引顺序。</td>
								</tr><tr>
									<td>6</td><td>node_type</td><td>节点类型：0，指派模式；1，单人竞争模式；2，全员模式；3，表决模式；默认 1</td>
								</tr><tr>
									<td>7</td><td>route_type</td><td>路由类型：1，手动路由；0，自动路由；默认 1</td>
								</tr><tr>
									<td>8</td><td>visible</td><td>是否可见（有效），1，有效；0，无效；</td>
								</tr><tr>
									<td></td><td>...</td><td>其它辅助字段请参考数据库中 windowdb.wf_def_node 表字段的注解文本。</td>
								</tr>
					    	</table>
					    	 <p class="text-center">表 40</p>
					    </div>
					</div><!--/card--> 
					
					

					<div class="card" id="c2">
						<div class="card-header" >配置流程节点单据样式模版</div>
					    <div class="card-body">
					    	<p>配置表：windowdb_conf.{模块编号}_dd_pt，windowdb_conf.{模块编号}_ld</p>
					    	<p>调用位置：流程面板处“再看一下”链接。 </p>
					    	<p>描述：呼出流程面板后，操作人再提交之前，可以再看一下流程对应的业务单据，点击“再看一下”链接， 即可打开单据展示窗口，单据展示的内容模版则是配置对应模块的配置表 windowdb_conf.{模块编 号}_dd_pt 中，而配置表的 id 则等于流程的节点编号，关于流程的节点编号，该编号的获取请参考业务表字 段 windowdb.wf_def_node.id。 </p>
					    	<p>printid：windowdb_conf.{模块编号}_dd_pt.id, 对应流程节点 ID（windowdb.wf_def_node.id）。 printid 可以有多个，用半角逗号分割。 </p>
					    	<p>打印分页代码：<small>&lt;div style="page-break-before: always" class="split_page"&gt;&lt;/div&gt;</small></p>
					    	
					    	<table class="table">
						    	<tr>
						    		<td rowspan="2"><b>序<br><br>号</b></td><td colspan="2" class="text-center"><b>打印模版表：windowdb_conf.{模块编号}_dd_pt 字段说明</b></td>
						    	</tr><tr>
						    		<td><b>字段名</b></td><td><b>说明</b></td>
						    	</tr><tr>
					    			<td>1</td><td>id</td><td>主键，此处对应 windowdb.wf_def_node.id</td>
								</tr><tr>
									<td>2</td><td>title</td><td>标题</td>
								</tr><tr>
									<td>3</td><td>content</td><td>模版正文</td>
								</tr>
					    	</table>
					    	 <p class="text-center">表 41</p>
					    </div>
					</div><!--/card--> 
					
				</div><!--/help-con-->
			</div>
		</div>
		
		
		
	</div>
	<!--底部-->
	<div class="container-fluid list03">
		<p class="text-center"><a href="download.html" class="btn btn-outline-light"><span class="glyphicon glyphicon-download mr-10"></span>免费下载试用</a></p>
	</div>
	<footer>
		<div class="footer">
			<div class="copyright">
				©2020-2025 workflow.net.cn
			</div>
			<div class="text-light contact">
				<span class="glyphicon" title="QQ号">QQ：6996899 </span> | <span title="微信号" class="glyphicon glyphicon-phone">微信：18032603709</span>
			</div>
		</div>
	</footer>
	<script src="static/js/public.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>
